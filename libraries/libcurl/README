------------------------------------------
Building for OSX

Build libssl
export CFLAGS="-arch i386"
export LDFLAGS="-arch i386"
./config
make
lipo -info libssl.a
cp libssl.a /pocode/libraries/libssl/osx/libssl.a


Set arch to x86_64 if doing x64 build in future
export CFLAGS="-arch i386"
LIBS=/pocode/libraries/libssl/osx/libssl.a
#./configure --disable-shared --without-libssh2 --without-ca-bundle --without-ldap --disable-ldap --host=i386-apple-darwin10
./configure --disable-shared --without-libssh2 --without-ca-bundle --with-ssl=/opt/local/lib/libssl.a --without-ldap --disable-ldap --host=i386-apple-darwin10
make clean
make
ar rv libcurl.a lib/*.o


Building for IOS 

FIRST MAKE SURE THE SIMULATOR IS CLOSED!

//Create ARMV7 version
export CC=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang
export CPP=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cpp
export CFLAGS="-arch armv7 --sysroot=/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS8.1.sdk"
export LDFLAGS="-isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS8.1.sdk -Wl,-syslibroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS8.1.sdk"
export AR=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ar
./configure --disable-shared --without-ssl --without-libssh2 --without-ca-bundle --without-ldap --disable-ldap --host=arm-apple-darwin
make clean; make
ar rv libcurl.armv7.a lib/*.o

//Create ARMV7S version
export CC=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang
export CPP=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cpp
export CFLAGS="-arch armv7s --sysroot=/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS8.1.sdk"
export LDFLAGS="-isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS8.1.sdk -Wl,-syslibroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS8.1.sdk"
export AR=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ar
./configure --disable-shared --without-ssl --without-libssh2 --without-ca-bundle --without-ldap --disable-ldap --host=arm-apple-darwin
make clean; make
ar rv libcurl.armv7s.a lib/*.o

//Create ARM64 version
export CC=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang
export CPP=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cpp
export CFLAGS="-arch arm64 --sysroot=/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS8.1.sdk"
export LDFLAGS="-isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS8.1.sdk -Wl,-syslibroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS8.1.sdk"
export AR=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ar
./configure --disable-shared --without-ssl --without-libssh2 --without-ca-bundle --without-ldap --disable-ldap --host=arm-apple-darwin
make clean; make
ar rv libcurl.arm64.a lib/*.o

OS X i386
(Open new terminal window, just to make sure you clear all export vars)
export CC=clang
export CPP=cpp
export CFLAGS="-arch i386 --sysroot=/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneOS8.1.sdk"
export LDFLAGS="-isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneOS8.1.sdk -Wl,-syslibroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneOS8.1.sdk"
export AR=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ar
./configure --disable-shared --without-ssl --without-libssh2 --without-ca-bundle --without-ldap --disable-ldap --host=i386-apple-darwin
make clean
make
ar rv libcurl.i386.a lib/*.o

OS X x86_64
(Open new terminal window, just to make sure you clear all export vars)
export CC=/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin/llvm-gcc-4.2
export CPP=/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin/llvm-cpp-4.2
export CFLAGS="-arch x86_64 --sysroot=/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator8.1.sdk"
export LDFLAGS="-isysroot /Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator8.1.sdk -Wl,-syslibroot /Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator8.1.sdk"
export AR=/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin/ar
./configure --disable-shared --without-ssl --without-libssh2 --without-ca-bundle --without-ldap --disable-ldap --host=x86_64-apple-darwin
make clean
make
ar rv libcurl.x86_64.a lib/*.o

Combine with lipo for simple lib
lipo -create libcurl.*.a -output libcurl_ios.a


Finally copy include/curl folder to libs folder AFTER compilingâ€¦otherwise defs will be off!