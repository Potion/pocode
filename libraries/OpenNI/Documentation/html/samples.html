<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OpenNI 1.4.0: Samples</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="OpenNILogo.bmp"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenNI 1.4.0</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('samples.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<h1>Samples </h1>  </div>
</div>
<div class="contents">
<div class="textblock"><p>OpenNI delivers with some samples. All samples are placed under the 'Samples' folder, and their binaries can be found under 'Samples\Bin\Debug' or 'Samples\Bin\Release'. Most samples use an XML file to configure OpenNI. This file can be found at '%OPEN_NI_INSTALL_DIR%\Data\SamplesConfig.xml'. All samples, except for <a class="el" href="samples.html#nicread">NiCRead</a>, are written using the C++ interface.</p>
<p>Here is a short description of each sample:</p>
<h2><a class="anchor" id="nisimpleread"></a>
NiSimpleRead</h2>
<p>NiSimpleRead is very basic. It configures OpenNI using the SamplesConfig XML file, and then takes the depth generator node (it assumes there is one. If not, the sample will exit with an error). It then loops, reading new frames from the depth generator, and prints out the depth value of the middle pixel. The sample exists when the user presses 'ESC'.</p>
<h2><a class="anchor" id="nisimplecreate"></a>
NiSimpleCreate</h2>
<p>NiSimpleCreate is an example of creating a production node programmatically in code, rather than using the SamplesConfig XML file. After creating a depth node, it reads from it like NiSimpleRead does.</p>
<h2><a class="anchor" id="nicread"></a>
NiCRead</h2>
<p>NiCRead sample is exactly the same as <a class="el" href="samples.html#nisimpleread">NiSimpleRead</a>, except for the fact it demonstrates the use of the C interface (instead of the C++ one).</p>
<h2><a class="anchor" id="nisimpleviewer"></a>
NiSimpleViewer</h2>
<p>NiSimpleViewer is a small OpenGL application which draws the depth maps and the image maps to the screen. It configures OpenNI using the SamplesConfig XML, but requires both depth and image to be present, both with the same resolution, and image node at RGB24 format. The application creates a histogram of the depth map and draws the frame using it to allow better visibility of the depth map.</p>
<p>The following keys can be used to control the application: </p>
<table class="doxtable">
<tr>
<th>Key </th><th>Description  </th></tr>
<tr>
<td>1 </td><td>Converts to OVERLAY mode, drawing depth map on top of the image map. It also sets depth view point to image view point (using the Alternative view point capability).   </td></tr>
<tr>
<td>2 </td><td>Draws only depth. It also turns off alternative view point.  </td></tr>
<tr>
<td>3 </td><td>Draws only image. It also turns off alternative view point.  </td></tr>
<tr>
<td>Esc </td><td>Closes the application  </td></tr>
</table>
<h2><a class="anchor" id="nisamplemodule"></a>
NiSampleModule</h2>
<p>NiSampleModule is a sample for writing a module for OpenNI. It implements a depth node supporting the Mirror capability. Before using it, one should register this module using the <a class="el" href="nireg.html">niReg</a> utility. It should also be deregistered afterwards, or applications might get it when needing depth nodes.</p>
<h2><a class="anchor" id="niconvertxtooni"></a>
NiConvertXToONI</h2>
<p>NiConvertXToONI opens any recording, takes every node in this recording, and records it to a new ONI recording. It receives both input file and output file from the command line.</p>
<h2><a class="anchor" id="nirecordsynthetic"></a>
NiRecordSynthetic</h2>
<p>NiRecordSynthetic shows how to open a recording, perform some sort of transformation on the data in it, and re-record this data.</p>
<h2><a class="anchor" id="niviewer"></a>
NiViewer</h2>
<p>NiViewer aspires to be able to view any kind of data defined by OpenNI, and be able to configure any kind of configuration OpenNI defines. Currently, is supports a reduced set. It can now display depth, image and IR maps, play audio, and supplies a wide set of configuration (though not complete). NiViewer has two modes: If passed a file name in command-line, it will open this file as a recording. Otherwise, it will configure OpenNI using the SamplesConfig XML file.</p>
<p>NiViewer is automatically associated with the .ONI file extension, for opening OpenNI recordings. The following keys can be used to control the application: </p>
<table class="doxtable">
<tr>
<th>Key </th><th>Description  </th></tr>
<tr>
<td>1 </td><td>Showing depth only, in histogram mode  </td></tr>
<tr>
<td>2 </td><td>Showing depth only, in psychedelic mode (centimeters)  </td></tr>
<tr>
<td>3 </td><td>Showing depth only, in psychedelic mode (millimeters)  </td></tr>
<tr>
<td>4 </td><td>Showing depth only, in rainbow mode  </td></tr>
<tr>
<td>5 </td><td>Showing depth masked image, meaning image pixels that don't have depth values are blacked out.  </td></tr>
<tr>
<td>6 </td><td>Background removal mode  </td></tr>
<tr>
<td>7 </td><td>Showing depth and image (or IR), side by side.  </td></tr>
<tr>
<td>8 </td><td>Showing depth on top of image (or IR)  </td></tr>
<tr>
<td>9 </td><td>Showing transparent depth on top of image (or IR)  </td></tr>
<tr>
<td>0 </td><td>Showing rainbow depth on top of image (or IR)  </td></tr>
<tr>
<td>= </td><td>Showing image (or IR) only  </td></tr>
<tr>
<td>` </td><td>Showing depth standard deviation  </td></tr>
<tr>
<td>p </td><td>Toggling pointer mode on/off. When on, additional depth info is displayed regarding currently pointed pixel.  </td></tr>
<tr>
<td>f </td><td>Toggling Full Screen / Window mode  </td></tr>
<tr>
<td>? </td><td>Toggling help screen on/off  </td></tr>
<tr>
<td>m </td><td>Toggling mirror on/off  </td></tr>
<tr>
<td>/ </td><td>Resets all croppings  </td></tr>
<tr>
<td>s </td><td>Start recording  </td></tr>
<tr>
<td>d </td><td>Start recording in 5 seconds  </td></tr>
<tr>
<td>x </td><td>Stop recording  </td></tr>
<tr>
<td>c </td><td>Capture current frame to files  </td></tr>
<tr>
<td>z </td><td>Start/Stop collecting statistics about depth pixels  </td></tr>
<tr>
<td>o </td><td>Pause/Play  </td></tr>
<tr>
<td>l </td><td>Seek one frame forward (recordings only)  </td></tr>
<tr>
<td>L </td><td>Seek 10 frames forward (recordings only)  </td></tr>
<tr>
<td>k </td><td>Seek one frame backwards (recordings only)  </td></tr>
<tr>
<td>K </td><td>Seek 10 frames backwards (recordings only)  </td></tr>
<tr>
<td>; </td><td>Read one single frame and pause  </td></tr>
<tr>
<td>Esc </td><td>Closes the application  </td></tr>
</table>
<p>In addition, the mouse can be used. Clicking the right-button of the mouse opens up a menu through which many configurations can be changed. Block selecting using the left button (holding it down in one point, moving and releasing the key) over a frame causes cropping of the node, if the Cropping capability is supported.</p>
<h2><a class="anchor" id="nibackrecorder"></a>
NiBackRecorder</h2>
<p>niBackRecorder is a command line tool, which stores frames in memory in a cyclic buffer, and when requested (clicking 'd') dumps that cyclic buffer to an oni file. In effect, it saves the last x seconds (configurable).</p>
<h3><a class="anchor" id="nibackrecorder_usage"></a>
Usage</h3>
<div class="fragment"><pre class="fragment">niBackRecorder time &lt;seconds&gt; [depth [qvga|vga]] [image [qvga|vga]] [verbose] [mirror &lt;on|off&gt;] [registration] [framesync] [outdir &lt;directory&gt;]
</pre></div><p>The following options are mandatory:</p>
<ul>
<li><b>time</b> Number of seconds to dump each time.</li>
</ul>
<p>The following options can be used:</p>
<ul>
<li><b>depth</b> Sets the resolution of the depth, to either QVGA or VGA. If not mentioned, depth is off. If no resolution is mentioned, QVGA is used.</li>
<li><b>image</b> Sets the resolution of the image, to either QVGA or VGA. If not mentioned, image is off. If no resolution is mentioned, QVGA is used.</li>
<li><b>verbose</b> Turns on the log</li>
<li><b>mirror</b> Set the mirror mode. If not mentioned, uses whatever was configured.</li>
<li><b>registration</b> Change depth to match image.</li>
<li><b>framesync</b> Syncronize between depth and image</li>
<li><b>outdir</b> Where to create the oni files. Default is the execution directory.</li>
</ul>
<p>Note: Keep in mind the memory used to store the frames. </p>
<table class="doxtable">
<tr>
<th>Configuration </th><th>Size  </th></tr>
<tr>
<td>1 second, QVGA depth </td><td>30*320*240*2B = 4500KB  </td></tr>
<tr>
<td>1 second, QVGA image </td><td>30*320*240*3B = 6750KB  </td></tr>
<tr>
<td>1 second, VGA depth </td><td>30*640*480*2B = 18000KB  </td></tr>
<tr>
<td>1 second, VGA image </td><td>30*640*480*3B = 27000KB  </td></tr>
</table>
</div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="main.html">OpenNI Documentation</a>      </li>
      <li class="footer">Generated on Wed Nov 16 2011 15:09:49 for OpenNI 1.4.0 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>

</body>
</html>
