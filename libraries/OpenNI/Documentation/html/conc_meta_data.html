<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OpenNI 1.4.0: Meta Data Objects</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="OpenNILogo.bmp"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenNI 1.4.0</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('conc_meta_data.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<h1>Meta Data Objects </h1>  </div>
</div>
<div class="contents">
<div class="textblock"><p>OpenNI meta data objects are a way to hold the entire set of properties of a specific data alongside with the data itself (for example, storing the resolution of a depth map with the depth map). Each generator that produces data has its own kind of meta data object. This object can later be passed to functions processing this data, preventing the need of sending multiple arguments each time.</p>
<p>In addition, the meta data objects are used to freeze the configuration of a node at the time this data arrived. Sometimes an application changes configuration of a node while reading data from it. In such a case, and until new data arrives, the data received from this node was produced using a different configuration. For example, lets say a Depth Generator was configured to produce QVGA depth maps, and the application constantly reads data from it. At some point, the application changed the node output mode to VGA. Until the moment a new frame arrives, calling <a class="el" href="classxn_1_1_depth_generator.html#a595b24d346a23327a4effb695451b384">xn::DepthGenerator::GetDepthMap()</a> would return a QVGA map, but calling <a class="el" href="classxn_1_1_map_generator.html#a1fd1a64c376d7a47b2951bd996939644">xn::DepthGenerator::GetMapOutputMode()</a> would return VGA resolution. This might cause errors (or even access violation) in the application.</p>
<p>To solve this, each node has a meta data object, keeping the properties of the data when it was read. So, in the above case, by calling <a class="el" href="classxn_1_1_depth_generator.html#a0e05087d3c1652e6f7fa4c002807a22a">xn::DepthGenerator::GetMetaData()</a> you would get a <a class="el" href="classxn_1_1_depth_meta_data.html">xn::DepthMetaData</a> object. This object <a class="el" href="classxn_1_1_depth_meta_data.html#a31c9bda08462e89c9962268f3bf194fe">Data()</a> method would return a pointer to the QVGA depth map, and <a class="el" href="classxn_1_1_map_meta_data.html#a597e11801d9305dfa4c1f78ec249bf0a">XRes()</a> and <a class="el" href="classxn_1_1_map_meta_data.html#a4daff8222744af42afbb8114600967f9">YRes()</a> functions would return QVGA resolution.</p>
<p><em>Meta Data</em> objects holds const pointers to the data (as this is what's returned from the generators). C++ <em>Meta Data</em> objects (all objects inheriting from <a class="el" href="classxn_1_1_output_meta_data.html">xn::OutputMetaData</a>) also provide a way to replace the data buffer with a self-allocated buffer, which can also be written to. Use the <a class="el" href="classxn_1_1_output_meta_data.html#a62c3847520da5bb1c27a139ec8d62e7f">AllocateData()</a> function for allocating a clean buffer, or the <a class="el" href="classxn_1_1_output_meta_data.html#a70d17b28fc0127d0ac10b6dc58942e97">MakeDataWritable()</a> function for also copying data from the const buffer into the newly allocated writable buffer.</p>
<p>Also, C++ <em>Meta Data</em> objects support several types of copying:</p>
<ul>
<li>All <em>InitFrom</em> functions actually perform the shallow copy made by C functions (<a class="el" href="group__utils.html#gaf7a971f1de32664bc1563e9e30b7dcdb">xnCopyDepthMetaData()</a> for example).</li>
<li>All <em>CopyFrom</em> functions allocates a new buffer and copies data to it (so that destination object now points to a private copy of the data of the source object).</li>
</ul>
<p>Currently this creates a situation in which the functionality supplied by C and C++ interfaces is not the same. This will be fixed in future versions. </p>
</div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="main.html">OpenNI Documentation</a>      </li>
      <li class="navelem"><a class="el" href="concepts.html">Concepts</a>      </li>
      <li class="footer">Generated on Wed Nov 16 2011 15:09:49 for OpenNI 1.4.0 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>

</body>
</html>
